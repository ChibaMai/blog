<!doctype html>
<html lang="en">
<head>
  <title>千叶麻衣 Blog | Web Components</title><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><meta data-n-head="ssr" name="google-site-verification" content="aAQV8IgxP5WQiAuShum5fEQxY5S98Q8JSZoJe3kmwyY"><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" lang="en"><meta data-n-head="ssr" language="English"><meta data-n-head="ssr" data-hid="name" key="name" property="name" name="name" content="千叶麻衣 Blog"><meta data-n-head="ssr" data-hid="description" key="description" property="description" name="description" content="本站是一个牛皮的技术博客。记录生活中遇到的问题，以及经验总结和分享！"><meta data-n-head="ssr" data-hid="keywords" key="keywords" property="keywords" name="keywords" content="千叶麻衣,千叶,麻衣,语心,技术博客,免费软件分享,aftersoil,aftersoil-blog,wiki"><meta data-n-head="ssr" data-hid="charset" charset="utf-8"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="千叶 Blog - 分享互联网的宝藏"><meta data-n-head="ssr" data-hid="theme-color" name="theme-color" content="#c2185b"><meta data-n-head="ssr" data-hid="og:type" name="og:type" property="og:type" content="website"><meta data-n-head="ssr" data-hid="og:title" name="og:title" property="og:title" content="千叶 Blog - 分享互联网的宝藏"><meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" property="og:site_name" content="千叶 Blog - 分享互联网的宝藏"><meta data-n-head="ssr" data-hid="og:description" name="og:description" property="og:description" content="本站是一个牛皮的技术博客。记录生活中遇到的问题，以及经验总结和分享！"><link data-n-head="ssr" rel="canonical" href="https://blog.chibamai.xyz/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.min.css@8.0.1/normalize.min.css"><link data-n-head="ssr" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><link data-n-head="ssr" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace-theme-default.css"><link data-n-head="ssr" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link data-n-head="ssr" data-hid="shortcut-icon" rel="shortcut icon" href="/_nuxt/icons/icon_150x150.636274.png"><link data-n-head="ssr" data-hid="apple-touch-icon" rel="apple-touch-icon" href="/_nuxt/icons/icon_150x150.636274.png" sizes="150x150"><link data-n-head="ssr" rel="manifest" href="/_nuxt/manifest.c30db85d.json" data-hid="manifest"><script data-n-head="ssr" src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script><script data-n-head="ssr" src="https://cdn.jsdelivr.net/npm/aftersoil_rippler@1.3.0/rippler.js"></script><script data-n-head="ssr" src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script data-n-head="ssr" src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script data-n-head="ssr" src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script><script data-n-head="ssr" src="https://www.jq22.com/demo/jsloading-141022114841/js/echo.min.js"></script><link rel="preload" href="/_nuxt/50201c8.js" as="script"><link rel="preload" href="/_nuxt/1ed8efd.js" as="script"><link rel="preload" href="/_nuxt/css/d1ba4ef.css" as="style"><link rel="preload" href="/_nuxt/4e61949.js" as="script"><link rel="preload" href="/_nuxt/css/fdb981e.css" as="style"><link rel="preload" href="/_nuxt/1e475cd.js" as="script"><link rel="preload" href="/_nuxt/css/ec5e6cc.css" as="style"><link rel="preload" href="/_nuxt/a8906d1.js" as="script"><link rel="preload" href="/_nuxt/c75cf26.js" as="script"><link rel="stylesheet" href="/_nuxt/css/d1ba4ef.css"><link rel="stylesheet" href="/_nuxt/css/fdb981e.css"><link rel="stylesheet" href="/_nuxt/css/ec5e6cc.css"><link rel="preload" href="/_nuxt/static/1626418200/post/Web%20Components/state.js" as="script"><link rel="preload" href="/_nuxt/static/1626418200/post/Web%20Components/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1626418200/manifest.js" as="script">
  <meta name="google-site-verification" content="google-site-verification=aAQV8IgxP5WQiAuShum5fEQxY5S98Q8JSZoJe3kmwyY">
  <meta name="baidu-site-verification" content="code-5xli8lky6i">
  <meta name="baidu-site-verification" content="5xli8lky6i">
</head>
<body class="mdui-drawer-body mdui-drawer-body-left mdui-appbar-with-toolbar" data-hidden="true">

  <script data-n-head="ssr" data-hid="nuxt-color-mode-script" data-pbody="true">!function(){"use strict";var t=window,e=document,s=e.documentElement,a=["dark","light"],o=window.localStorage.getItem("nuxt-color-mode")||"system",c="system"===o?n():o,e=e.body.getAttribute("data-color-mode-forced");function r(e){e+="-mode";s.classList?s.classList.add(e):s.className+=" "+e}function l(e){return t.matchMedia("(prefers-color-scheme"+e+")")}function n(){if(t.matchMedia&&"not all"!==l("").media)for(var e of a)if(l(":"+e).matches)return e;return"light"}r(c=e?e:c),t.__NUXT_COLOR_MODE__={preference:o,value:c,getColorScheme:n,addClass:r,removeClass:function(e){e+="-mode";s.classList?s.classList.remove(e):s.className=s.className.replace(new RegExp(e,"g"),"")}}}()</script><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="app-container"><div class="mdui-appbar mdui-appbar-fixed" data-v-299facdf><div class="mdui-toolbar mdui-color-indigo" data-v-299facdf><a href="javascript:;" data-ripple="ripple" id="toolbar" class="mdui-btn mdui-btn-icon" data-v-aa72ab74 data-v-299facdf><i class="fa fa-bars" data-v-aa72ab74></i></a> <a href="/" class="mdui-typo-headline nuxt-link-active" data-v-299facdf>千叶麻衣 Blog</a> <div class="appbar-nav" data-v-7ca9e1bf data-v-299facdf></div> <div class="login" data-v-22282703 data-v-299facdf><button type="button" class="ivu-btn ivu-btn-success ivu-btn-large" data-v-22282703><!----> <!----> <span>Sign out</span></button></div> <div class="theme-modle" data-v-75bc069a data-v-299facdf><i class="ivu-icon ivu-icon-ios-color-palette theme" data-v-75bc069a></i></div> <div class="search" data-v-f0e71d7e data-v-299facdf><a href="javascript:;" data-ripple="ripple" class="mdui-btn mdui-btn-icon" data-v-f0e71d7e><i class="ivu-icon ivu-icon-md-search" data-v-f0e71d7e></i></a> <div class="search-content" data-v-f0e71d7e><div title="关闭搜索" class="search-mask" data-v-f0e71d7e></div> <i class="searchClose ivu-icon ivu-icon-md-close" data-v-f0e71d7e></i> <div class="search-bar" data-v-f0e71d7e><input type="search" autocomplete="off" placeholder="请输入您要搜索的字段" name="search" id="search" focus="focus" data-v-f0e71d7e> <!----></div></div></div></div></div> <div class="mdui-drawer" data-v-6aabb6a3><div class="my-info mdui-text-center" data-v-38819522 data-v-6aabb6a3><img src="/_nuxt/img/Avatar.8f62f10.jpg" alt class="mdui-img-circle mdui-img-fluid avatar" data-v-38819522> <span data-v-38819522>千叶麻衣 Blog<i class="fa fa-angle-down mdui-icon" data-v-38819522></i></span></div> <div class="mdui-list mdui-collapse-item mdui-ripple" data-v-17ef90b5 data-v-6aabb6a3><ul class="ivu-menu ivu-menu-light ivu-menu-vertical" style="width:240px" data-v-17ef90b5><li class="ivu-menu-submenu" data-v-17ef90b5><div class="ivu-menu-submenu-title"><i class="mdui-icon mdui-text-color-blue ivu-icon ivu-icon-md-paper-plane" data-v-17ef90b5></i>分类 <i class="ivu-icon ivu-icon-ios-arrow-down ivu-menu-submenu-title-icon"></i></div> <ul class="ivu-menu" style="display:none"></ul></li> <li class="ivu-menu-submenu" data-v-17ef90b5><div class="ivu-menu-submenu-title"><i class="mdui-icddon mdui-text-color-orange ivu-icon ivu-icon-md-pricetag" data-v-17ef90b5></i>页面 <i class="ivu-icon ivu-icon-ios-arrow-down ivu-menu-submenu-title-icon"></i></div> <ul class="ivu-menu" style="display:none"></ul></li> <!----> <li class="ivu-menu-submenu" data-v-17ef90b5><div class="ivu-menu-submenu-title"><i class="mdui-icon mdui-text-color-green ivu-icon ivu-icon-md-ionic" data-v-17ef90b5></i>友情链接 <i class="ivu-icon ivu-icon-ios-arrow-down ivu-menu-submenu-title-icon"></i></div> <ul class="ivu-menu" style="display:none"></ul></li></ul></div> <div class="mdui-divider" data-v-6aabb6a3></div> <div data-ripple="ripple" class="mdui-ripple hitokoto" data-v-4dc89600 data-v-6aabb6a3><i class="mdui-icon mdui-text-color-cyan ivu-icon ivu-icon-md-notifications-outline" data-v-4dc89600></i> <span class="hitokoto-content" data-v-4dc89600></span></div></div> <div id="body" class="mdui-container-fluid vcomments" data-v-c8f48df8><div class="article-method" data-v-c8f48df8><div class="mdui-card mdui-hoverable mdui-typo" data-v-c8f48df8><div class="mdui-card-primary" data-v-c8f48df8><h1 class="mdui-card-primary-title" data-v-c8f48df8>Web Components 入门实例教程</h1> <div class="mdui-card-primary-subtitle" data-v-c8f48df8><span data-v-c8f48df8>作者: 千叶麻衣</span> <span data-v-c8f48df8>创建于: 2021-07-12 21:27:37</span> <span data-v-c8f48df8>更新于: 2021-07-12 21:27:37</span></div></div> <div class="nuxt-content" data-v-c8f48df8 data-v-c8f48df8><h1 id="web-components-入门实例教程" data-v-c8f48df8 data-v-c8f48df8><a href="#web-components-%E5%85%A5%E9%97%A8%E5%AE%9E%E4%BE%8B%E6%95%99%E7%A8%8B" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>Web Components 入门实例教程</h1>
<p data-v-c8f48df8 data-v-c8f48df8>组件是前端的发展方向，现在流行的 React 和 Vue 都是组件框架。</p>
<p data-v-c8f48df8 data-v-c8f48df8>谷歌公司由于掌握了 Chrome 浏览器，一直在推动浏览器的原生组件，即 Web Components API。相比第三方框架，原生组件简单直接，符合直觉，不用加载任何外部模块，代码量小。目前，它还在不断发展，但已经可用于生产环境。</p>
<p data-v-c8f48df8 data-v-c8f48df8>Web Components API 内容很多，本文不是全面的教程，只是一个简单演示，让大家看一下怎么用它开发组件。</p>
<a href="https://www.wangbase.com/blogimg/asset/201908/bg2019080604.jpg" data-fancybox="preview" class="image" data-v-c8f48df8 data-v-c8f48df8>
  <img src="https://www.wangbase.com/blogimg/asset/201908/bg2019080604.jpg" data-v-c8f48df8 data-v-c8f48df8>
</a>
<h2 id="一、自定义元素" data-v-c8f48df8 data-v-c8f48df8><a href="#%E4%B8%80%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>一、自定义元素</h2>
<p data-v-c8f48df8 data-v-c8f48df8>下图是一个用户卡片。</p>
<a href="https://www.wangbase.com/blogimg/asset/201908/bg2019080405.jpg" data-fancybox="preview" class="image" data-v-c8f48df8 data-v-c8f48df8>
  <img src="https://www.wangbase.com/blogimg/asset/201908/bg2019080405.jpg" data-v-c8f48df8 data-v-c8f48df8>
</a>
<p data-v-c8f48df8 data-v-c8f48df8>本文演示如何把这个卡片，写成 Web Components 组件，这里是最后的完整代码。</p>
<p data-v-c8f48df8 data-v-c8f48df8>网页只要插入下面的代码，就会显示用户卡片。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-html" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>user-card</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>user-card</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8>这种自定义的 HTML 标签，称为自定义元素（custom element）。根据规范，自定义元素的名称必须包含连词线，用与区别原生的 HTML 元素。所以，<code data-v-c8f48df8 data-v-c8f48df8>&lt;user-card></code>不能写成<code data-v-c8f48df8 data-v-c8f48df8>&lt;usercard></code>。</p>
<h2 id="二、customelementsdefine" data-v-c8f48df8 data-v-c8f48df8><a href="#%E4%BA%8C%E3%80%81customelementsdefine" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>二、customElements.define()</h2>
<p data-v-c8f48df8 data-v-c8f48df8>自定义元素需要使用 JavaScript 定义一个类，所有 <code data-v-c8f48df8 data-v-c8f48df8>&lt;user-card></code> 都会是这个类的实例。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-js" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>class</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>UserCard</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>extends</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>HTMLElement</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
  <span class="token function" data-v-c8f48df8 data-v-c8f48df8>constructor</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>super</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
  <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8>上面代码中， <code data-v-c8f48df8 data-v-c8f48df8>UserCard</code> 就是自定义元素的类。注意，这个类的父类是 <code data-v-c8f48df8 data-v-c8f48df8>HTMLElement</code> ，因此继承了 <code data-v-c8f48df8 data-v-c8f48df8>HTML</code> 元素的特性。</p>
<p data-v-c8f48df8 data-v-c8f48df8>接着，使用浏览器原生的 <code data-v-c8f48df8 data-v-c8f48df8>customElements.define()</code> 方法，告诉浏览器 <code data-v-c8f48df8 data-v-c8f48df8>&lt;user-card></code> 元素与这个类关联。</p>
<h2 id="三、自定义元素的内容" data-v-c8f48df8 data-v-c8f48df8><a href="#%E4%B8%89%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0%E7%9A%84%E5%86%85%E5%AE%B9" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>三、自定义元素的内容</h2>
<p data-v-c8f48df8 data-v-c8f48df8>自定义元素 <code data-v-c8f48df8 data-v-c8f48df8>&lt;user-card></code> 目前还是空的，下面在类里面给出这个元素的内容。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-js" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>class</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>UserCard</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>extends</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>HTMLElement</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
  <span class="token function" data-v-c8f48df8 data-v-c8f48df8>constructor</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>super</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> image <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>document</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>createElement</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'img'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    image<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>src</span> <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token string" data-v-c8f48df8 data-v-c8f48df8>'https://semantic-ui.com/images/avatar2/large/kristy.png'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    image<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>classList</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>add</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'image'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> container <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>document</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>createElement</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'div'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    container<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>classList</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>add</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'container'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> name <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>document</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>createElement</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'p'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    name<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>classList</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>add</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'name'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    name<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>innerText</span> <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token string" data-v-c8f48df8 data-v-c8f48df8>'User Name'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> email <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>document</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>createElement</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'p'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    email<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>classList</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>add</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'email'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    email<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>innerText</span> <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token string" data-v-c8f48df8 data-v-c8f48df8>'yourmail@some-email.com'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> button <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>document</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>createElement</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'button'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    button<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>classList</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>add</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'button'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    button<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>innerText</span> <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token string" data-v-c8f48df8 data-v-c8f48df8>'Follow'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    container<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>append</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span>name<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> email<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> button<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>append</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span>image<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> container<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
  <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8>上面代码最后一行， <code data-v-c8f48df8 data-v-c8f48df8>this.append()</code> 的 <code data-v-c8f48df8 data-v-c8f48df8>this</code> 表示自定义元素实例。</p>
<p data-v-c8f48df8 data-v-c8f48df8>完成这一步以后，自定义元素内部的 DOM 结构就已经生成了。</p>
<h2 id="四、template标签" data-v-c8f48df8 data-v-c8f48df8><a href="#%E5%9B%9B%E3%80%81template%E6%A0%87%E7%AD%BE" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>四、&lt;template>标签</h2>
<p data-v-c8f48df8 data-v-c8f48df8>使用 JavaScript 写上一节的 DOM 结构很麻烦，Web Components API 提供了<code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>标签，可以在它里面使用 HTML 定义 DOM。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-html" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>template</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>id</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>userCardTemplate<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>img</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>src</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>https://semantic-ui.com/images/avatar2/large/kristy.png<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>image<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>div</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>container<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
    <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>p</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>name<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>User Name<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>p</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
    <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>p</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>email<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>yourmail@some-email.com<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>p</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
    <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>button</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>button<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>Follow<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>button</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>div</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>template</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8>然后，改写一下自定义元素的类，为自定义元素加载<code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-js" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>class</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>UserCard</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>extends</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>HTMLElement</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
  <span class="token function" data-v-c8f48df8 data-v-c8f48df8>constructor</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>super</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> templateElem <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>document</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getElementById</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'userCardTemplate'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> content <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> templateElem<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>content</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>cloneNode</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token boolean" data-v-c8f48df8 data-v-c8f48df8>true</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>appendChild</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span>content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
  <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>  
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8>上面代码中，获取<code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>节点以后，克隆了它的所有子元素，这是因为可能有多个自定义元素的实例，这个模板还要留给其他实例使用，所以不能直接移动它的子元素。</p>
<p data-v-c8f48df8 data-v-c8f48df8>到这一步为止，完整的代码如下。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-html" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>body</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>user-card</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>user-card</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>template</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>...<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>template</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>

  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>script</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span><span class="token script" data-v-c8f48df8 data-v-c8f48df8><span class="token language-javascript" data-v-c8f48df8 data-v-c8f48df8>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>class</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>UserCard</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>extends</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>HTMLElement</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
      <span class="token function" data-v-c8f48df8 data-v-c8f48df8>constructor</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
        <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>super</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

        <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> templateElem <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>document</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getElementById</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'userCardTemplate'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
        <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> content <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> templateElem<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>content</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>cloneNode</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token boolean" data-v-c8f48df8 data-v-c8f48df8>true</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
        <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>appendChild</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span>content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
      <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
    <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
    <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>window</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>customElements</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>define</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'user-card'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> <span class="token maybe-class-name" data-v-c8f48df8 data-v-c8f48df8>UserCard</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>    
  </span></span><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>script</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>body</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
</code></pre></div>
<h2 id="五、添加样式" data-v-c8f48df8 data-v-c8f48df8><a href="#%E4%BA%94%E3%80%81%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>五、添加样式</h2>
<p data-v-c8f48df8 data-v-c8f48df8>自定义元素还没有样式，可以给它指定全局样式，比如下面这样。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-css" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token selector" data-v-c8f48df8 data-v-c8f48df8>user-card</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
  <span class="token comment" data-v-c8f48df8 data-v-c8f48df8>/* ... */</span>
<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8>但是，组件的样式应该与代码封装在一起，只对自定义元素生效，不影响外部的全局样式。所以，可以把样式写在<code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>里面。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-html" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>template</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>id</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>userCardTemplate<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>style</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span><span class="token style" data-v-c8f48df8 data-v-c8f48df8><span class="token language-css" data-v-c8f48df8 data-v-c8f48df8>
   <span class="token selector" data-v-c8f48df8 data-v-c8f48df8><span class="token pseudo-class" data-v-c8f48df8 data-v-c8f48df8>:host</span></span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>display</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> flex<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>align-items</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> center<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>width</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>450</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>height</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>180</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>background-color</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token hexcode color" data-v-c8f48df8 data-v-c8f48df8>#d4d4d4</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>border</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>1</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span> solid <span class="token hexcode color" data-v-c8f48df8 data-v-c8f48df8>#d5d5d5</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>box-shadow</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>1</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>1</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>5</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span> <span class="token color" data-v-c8f48df8 data-v-c8f48df8><span class="token function" data-v-c8f48df8 data-v-c8f48df8>rgba</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token number" data-v-c8f48df8 data-v-c8f48df8>0</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>0</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>0</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>0.1</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>border-radius</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>3</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>overflow</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> hidden<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>padding</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>10</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>box-sizing</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> border-box<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>font-family</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token string" data-v-c8f48df8 data-v-c8f48df8>'Poppins'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> sans-serif<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
   <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
   <span class="token selector" data-v-c8f48df8 data-v-c8f48df8><span class="token class" data-v-c8f48df8 data-v-c8f48df8>.image</span></span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>flex</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>0</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>0</span> auto<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>width</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>160</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>height</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>160</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>vertical-align</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> middle<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>border-radius</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>5</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
   <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
   <span class="token selector" data-v-c8f48df8 data-v-c8f48df8><span class="token class" data-v-c8f48df8 data-v-c8f48df8>.container</span></span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>box-sizing</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> border-box<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>padding</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>20</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>height</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>160</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
   <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
   <span class="token selector" data-v-c8f48df8 data-v-c8f48df8><span class="token class" data-v-c8f48df8 data-v-c8f48df8>.container</span> <span class="token combinator" data-v-c8f48df8 data-v-c8f48df8>></span> <span class="token class" data-v-c8f48df8 data-v-c8f48df8>.name</span></span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>font-size</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>20</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>font-weight</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>600</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>line-height</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>1</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>margin</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>0</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>margin-bottom</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>5</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
   <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
   <span class="token selector" data-v-c8f48df8 data-v-c8f48df8><span class="token class" data-v-c8f48df8 data-v-c8f48df8>.container</span> <span class="token combinator" data-v-c8f48df8 data-v-c8f48df8>></span> <span class="token class" data-v-c8f48df8 data-v-c8f48df8>.email</span></span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>font-size</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>12</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>opacity</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>0.75</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>line-height</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>1</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>margin</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>0</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>margin-bottom</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>15</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
   <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
   <span class="token selector" data-v-c8f48df8 data-v-c8f48df8><span class="token class" data-v-c8f48df8 data-v-c8f48df8>.container</span> <span class="token combinator" data-v-c8f48df8 data-v-c8f48df8>></span> <span class="token class" data-v-c8f48df8 data-v-c8f48df8>.button</span></span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>padding</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>10</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>25</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>font-size</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>12</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>border-radius</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token number" data-v-c8f48df8 data-v-c8f48df8>5</span><span class="token unit" data-v-c8f48df8 data-v-c8f48df8>px</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
     <span class="token property" data-v-c8f48df8 data-v-c8f48df8>text-transform</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>:</span> uppercase<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
   <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
  </span></span><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>style</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>

  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>img</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>src</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>https://semantic-ui.com/images/avatar2/large/kristy.png<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>image<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>div</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>container<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
    <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>p</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>name<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>User Name<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>p</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
    <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>p</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>email<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>yourmail@some-email.com<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>p</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
    <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>button</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>button<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>Follow<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>button</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>div</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>template</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8>上面代码中，<code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>样式里面的:host伪类，指代自定义元素本身。</p>
<h2 id="六、自定义元素的参数" data-v-c8f48df8 data-v-c8f48df8><a href="#%E5%85%AD%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0%E7%9A%84%E5%8F%82%E6%95%B0" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>六、自定义元素的参数</h2>
<p data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8>&lt;user-card></code>内容现在是在<code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>里面设定的，为了方便使用，把它改成参数。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-html" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>user-card</span>
  <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>image</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>https://semantic-ui.com/images/avatar2/large/kristy.png<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span>
  <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>name</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>User Name<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span>
  <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>email</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>yourmail@some-email.com<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span>
<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>user-card</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>代码也相应改造。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-html" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>template</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>id</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>userCardTemplate<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>style</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span><span class="token style" data-v-c8f48df8 data-v-c8f48df8><span class="token language-css" data-v-c8f48df8 data-v-c8f48df8>...</span></span><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>style</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>

  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>img</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>image<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>div</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>container<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
    <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>p</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>name<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>p</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
    <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>p</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>email<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>p</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
    <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;</span>button</span> <span class="token attr-name" data-v-c8f48df8 data-v-c8f48df8>class</span><span class="token attr-value" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation attr-equals" data-v-c8f48df8 data-v-c8f48df8>=</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span>button<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>"</span></span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>Follow John<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>button</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
  <span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>div</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
<span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token tag" data-v-c8f48df8 data-v-c8f48df8><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>&lt;/</span>template</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>></span></span>
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8>最后，改一下类的代码，把参数加到自定义元素里面。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-js" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>class</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>UserCard</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>extends</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>HTMLElement</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
  <span class="token function" data-v-c8f48df8 data-v-c8f48df8>constructor</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>super</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> templateElem <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>document</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getElementById</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'userCardTemplate'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> content <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> templateElem<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>content</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>cloneNode</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token boolean" data-v-c8f48df8 data-v-c8f48df8>true</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>querySelector</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'img'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>setAttribute</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'src'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getAttribute</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'image'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>querySelector</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'.container>.name'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>innerText</span> <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getAttribute</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'name'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>querySelector</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'.container>.email'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>innerText</span> <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getAttribute</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'email'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>appendChild</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span>content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
  <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
<span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>window</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>customElements</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>define</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'user-card'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> <span class="token maybe-class-name" data-v-c8f48df8 data-v-c8f48df8>UserCard</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>    
</code></pre></div>
<h2 id="七、shadow-dom" data-v-c8f48df8 data-v-c8f48df8><a href="#%E4%B8%83%E3%80%81shadow-dom" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>七、Shadow DOM</h2>
<p data-v-c8f48df8 data-v-c8f48df8>我们不希望用户能够看到<code data-v-c8f48df8 data-v-c8f48df8>&lt;user-card></code>的内部代码，Web Component 允许内部代码隐藏起来，这叫做 Shadow DOM，即这部分 DOM 默认与外部 DOM 隔离，内部任何代码都无法影响外部。</p>
<p data-v-c8f48df8 data-v-c8f48df8>自定义元素的<code data-v-c8f48df8 data-v-c8f48df8>this.attachShadow()</code>方法开启 Shadow DOM，详见下面的代码。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-js" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>class</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>UserCard</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>extends</span> <span class="token class-name" data-v-c8f48df8 data-v-c8f48df8>HTMLElement</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
  <span class="token function" data-v-c8f48df8 data-v-c8f48df8>constructor</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>super</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> shadow <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>attachShadow</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span> mode<span class="token operator" data-v-c8f48df8 data-v-c8f48df8>:</span> <span class="token string" data-v-c8f48df8 data-v-c8f48df8>'closed'</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> templateElem <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>document</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getElementById</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'userCardTemplate'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>var</span> content <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> templateElem<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>content</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>cloneNode</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token boolean" data-v-c8f48df8 data-v-c8f48df8>true</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>querySelector</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'img'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>setAttribute</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'src'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getAttribute</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'image'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>querySelector</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'.container>.name'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>innerText</span> <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getAttribute</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'name'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
    content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>querySelector</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'.container>.email'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>innerText</span> <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> <span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>getAttribute</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'email'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>

    shadow<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>appendChild</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span>content<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
  <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span>
<span class="token dom variable" data-v-c8f48df8 data-v-c8f48df8>window</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>customElements</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>define</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'user-card'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> <span class="token maybe-class-name" data-v-c8f48df8 data-v-c8f48df8>UserCard</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
</code></pre></div>
<p data-v-c8f48df8 data-v-c8f48df8>上面代码中，<code data-v-c8f48df8 data-v-c8f48df8>this.attachShadow()</code>方法的参数<code data-v-c8f48df8 data-v-c8f48df8>{ mode: 'closed' }</code>，表示 Shadow DOM 是封闭的，不允许外部访问。</p>
<p data-v-c8f48df8 data-v-c8f48df8>至此，这个 Web Component 组件就完成了，完整代码可以访问这里。可以看到，整个过程还是很简单的，不像第三方框架那样有复杂的 API。</p>
<h2 id="八、组件的扩展" data-v-c8f48df8 data-v-c8f48df8><a href="#%E5%85%AB%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E6%89%A9%E5%B1%95" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>八、组件的扩展</h2>
<p data-v-c8f48df8 data-v-c8f48df8>在前面的基础上，可以对组件进行扩展。</p>
<ol data-v-c8f48df8 data-v-c8f48df8>
<li data-v-c8f48df8 data-v-c8f48df8>与用户互动</li>
</ol>
<p data-v-c8f48df8 data-v-c8f48df8>用户卡片是一个静态组件，如果要与用户互动，也很简单，就是在类里面监听各种事件。</p>
<div class="nuxt-content-highlight" data-v-c8f48df8 data-v-c8f48df8><pre class="line-numbers language-js" data-v-c8f48df8 data-v-c8f48df8><code data-v-c8f48df8 data-v-c8f48df8><span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>$button</span> <span class="token operator" data-v-c8f48df8 data-v-c8f48df8>=</span> shadow<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>querySelector</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'button'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
<span class="token keyword" data-v-c8f48df8 data-v-c8f48df8>this</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token property-access" data-v-c8f48df8 data-v-c8f48df8>$button</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>.</span><span class="token method function property-access" data-v-c8f48df8 data-v-c8f48df8>addEventListener</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token string" data-v-c8f48df8 data-v-c8f48df8>'click'</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>,</span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>(</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span> <span class="token arrow operator" data-v-c8f48df8 data-v-c8f48df8>=></span> <span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>{</span>
  <span class="token comment" data-v-c8f48df8 data-v-c8f48df8>// do something</span>
<span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>}</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>)</span><span class="token punctuation" data-v-c8f48df8 data-v-c8f48df8>;</span>
</code></pre></div>
<ol start="2" data-v-c8f48df8 data-v-c8f48df8>
<li data-v-c8f48df8 data-v-c8f48df8>组件的封装</li>
</ol>
<p data-v-c8f48df8 data-v-c8f48df8>上面的例子中，<code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>与网页代码放在一起，其实可以用脚本把<code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>注入网页。这样的话，JavaScript 脚本跟<code data-v-c8f48df8 data-v-c8f48df8>&lt;template></code>就能封装成一个 JS 文件，成为独立的组件文件。网页只要加载这个脚本，就能使用<code data-v-c8f48df8 data-v-c8f48df8>&lt;user-card></code>组件。</p>
<p data-v-c8f48df8 data-v-c8f48df8>这里就不展开了，更多 Web Components 的高级用法，可以接着学习下面两篇文章。</p>
<blockquote data-v-c8f48df8 data-v-c8f48df8>
<ul data-v-c8f48df8 data-v-c8f48df8>
<li data-v-c8f48df8 data-v-c8f48df8><a href="https://www.robinwieruch.de/web-components-tutorial/" rel="nofollow noopener noreferrer" target="_blank" data-v-c8f48df8 data-v-c8f48df8>Web Components Tutorial for Beginners</a></li>
<li data-v-c8f48df8 data-v-c8f48df8><a href="https://developers.google.com/web/fundamentals/web-components/customelements" rel="nofollow noopener noreferrer" target="_blank" data-v-c8f48df8 data-v-c8f48df8>Custom Elements v1: Reusable Web Components</a></li>
</ul>
</blockquote>
<h2 id="九、参考链接" data-v-c8f48df8 data-v-c8f48df8><a href="#%E4%B9%9D%E3%80%81%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>九、参考链接</h2>
<ul data-v-c8f48df8 data-v-c8f48df8>
<li data-v-c8f48df8 data-v-c8f48df8><a href="https://medium.com/jspoint/the-anatomy-of-web-components-d6afedb81b37" rel="nofollow noopener noreferrer" target="_blank" data-v-c8f48df8 data-v-c8f48df8>The anatomy of Web Components</a>, Uday Hiwarale</li>
</ul>
<h2 id="文档信息" data-v-c8f48df8 data-v-c8f48df8><a href="#%E6%96%87%E6%A1%A3%E4%BF%A1%E6%81%AF" aria-hidden="true" tabindex="-1" data-v-c8f48df8 data-v-c8f48df8><span class="icon icon-link" data-v-c8f48df8 data-v-c8f48df8></span></a>文档信息</h2>
<ul data-v-c8f48df8 data-v-c8f48df8>
<li data-v-c8f48df8 data-v-c8f48df8>版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）</li>
<li data-v-c8f48df8 data-v-c8f48df8>发表日期： 2019年8月 6日</li>
</ul></div></div> <div class="mdui-card mdui-hoverable vcomments" data-v-c8f48df8><div id="vcomments" data-v-74c818b0 data-v-c8f48df8></div></div></div> <div class="floatingMenu mdui-hidden-sm-down" data-v-dad3881a data-v-c8f48df8><div class="floatingMenu-tab" data-v-6ab87e66 data-v-dad3881a></div> <div class="floatingMenu-archive" data-v-b92824fe data-v-dad3881a></div> <div class="floatingMenu-tags" data-v-6cde03e2 data-v-dad3881a></div></div> <div class="anchor-link" data-v-c8f48df8><ul data-v-c8f48df8><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E4%B8%80%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0" class="hover:underline py-2" data-v-c8f48df8>一、自定义元素</a></li><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E4%BA%8C%E3%80%81customelementsdefine" class="hover:underline py-2" data-v-c8f48df8>二、customElements.define()</a></li><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E4%B8%89%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0%E7%9A%84%E5%86%85%E5%AE%B9" class="hover:underline py-2" data-v-c8f48df8>三、自定义元素的内容</a></li><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E5%9B%9B%E3%80%81template%E6%A0%87%E7%AD%BE" class="hover:underline py-2" data-v-c8f48df8>四、&lt;template>标签</a></li><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E4%BA%94%E3%80%81%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F" class="hover:underline py-2" data-v-c8f48df8>五、添加样式</a></li><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E5%85%AD%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0%E7%9A%84%E5%8F%82%E6%95%B0" class="hover:underline py-2" data-v-c8f48df8>六、自定义元素的参数</a></li><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E4%B8%83%E3%80%81shadow-dom" class="hover:underline py-2" data-v-c8f48df8>七、Shadow DOM</a></li><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E5%85%AB%E3%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E6%89%A9%E5%B1%95" class="hover:underline py-2" data-v-c8f48df8>八、组件的扩展</a></li><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E4%B9%9D%E3%80%81%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5" class="hover:underline py-2" data-v-c8f48df8>九、参考链接</a></li><li class="font-semibold" data-v-c8f48df8><a href="/post/Web%20Components#%E6%96%87%E6%A1%A3%E4%BF%A1%E6%81%AF" class="hover:underline py-2" data-v-c8f48df8>文档信息</a></li></ul></div></div> <div class="mdui-color-theme mdui-text-center" data-v-65b7d570><div class="mdui-typo" data-v-65b7d570><span data-v-65b7d570>©</span> <span data-v-65b7d570>2021</span> <a href="/" data-v-65b7d570>千叶麻衣 Blog.</a></div> <div class="mdui-typo" data-v-65b7d570><span data-v-65b7d570>由</span> <a href data-v-65b7d570>Typecho</a> <span data-v-65b7d570>强力驱动 . Theme By </span> <a href="/" data-v-65b7d570>Chiba Mai Blog.</a></div></div> <div data-ripple="ripple" class="mdui-fab mdui-icon ivu-back-top" style="bottom:50px;right:30px" data-v-91be1400><i class="ivu-icon ivu-icon-md-arrow-round-up" data-v-91be1400></i></div> <div class="mask-layer" data-v-5567646e></div></div></div></div><script defer src="/_nuxt/static/1626418200/post/Web%20Components/state.js"></script><script src="/_nuxt/50201c8.js" defer></script><script src="/_nuxt/a8906d1.js" defer></script><script src="/_nuxt/c75cf26.js" defer></script><script src="/_nuxt/1ed8efd.js" defer></script><script src="/_nuxt/4e61949.js" defer></script><script src="/_nuxt/1e475cd.js" defer></script>

</body>
</html>
